/*
 Copyright 2016 Pine Grove Software, LLC
 financial-calculators.com
 common.LIB.js
*/
var inputType,LIB$=function(){var a={ERR_MSGS:{noDelKey:"Please use the backspace key to delete.",noCurKeys:"Left, up & down arrow keys are disabled. So are the home, end, pgup and pgdn keys.\n\nUse backspace to delete.\n\nIf value is selected, just start typing new value to clear prior value.\n\nWhen a number is selected (value shown in inverse), use right arrow key to clear selection without clearing value. Then backspace to edit.\n\nTIP: Generally it is best to use the TAB or SHIFT-TAB keys to move from one input to the next or previous input.\n\nTIP 2: Generally, editing a value is inefficient. Since values are auto selected, just type the number you want.",
noSeparators:"Do not type the thousand separator character.\n\n(If using US convention, that would be the comma.)\n\nI'm smart enough to enter them for you!"}},d=Error("An unknown date calculation error occured.\nPlease provide us with your inputs and settings so that we can fix this. Thank you."),y=Error("Date is not valid - bad year.");a.zoomLevel=1;a.AMORT_MTHD={AM_NORMAL:0};a.CCY_FORMATS={USD1:0,USD2:1,GBH:2,NON:3,EUR1:4,EUR2:5,EUR3:6,EUR4:7};a.CCY_CONVENTIONS=[{sep:",",dPnt:".",ccy:"$",ccy_r:""},
{sep:".",dPnt:",",ccy:"$",ccy_r:""},{sep:",",dPnt:".",ccy:"\u00a3",ccy_r:""},{sep:",",dPnt:".",ccy:"",ccy_r:""},{sep:",",dPnt:".",ccy:"\u20ac",ccy_r:""},{sep:".",dPnt:",",ccy:"\u20ac",ccy_r:""},{sep:" ",dPnt:",",ccy:"",ccy_r:"\u20ac"},{sep:".",dPnt:",",ccy:"",ccy_r:"\u20ac"}];a.DATE_FORMATS={MDY:0,DMY:1,YMD:2};a.DATE_FORMAT_STRS=["MM/DD/YYYY","DD/MM/YYYY","YYYY-MM-DD"];a.DATE_CONVENTIONS=[{date_mask:"MM/DD/YYYY",date_sep:"/",sep_pos1:2,sep_pos2:5},{date_mask:"DD/MM/YYYY",date_sep:"/",sep_pos1:2,sep_pos2:5},
{date_mask:"YYYY-MM-DD",date_sep:"-",sep_pos1:4,sep_pos2:7}];a.ROW_TYPES={DETAIL:0,ANNUAL_TOTALS:1,RUNNING_TOTALS:2};a.STR_FREQUENCIES=[];a.STR_FREQUENCIES[6]="Monthly";a.CURRENCIES={EUR:"\u20ac",GBP:"\u00a3",INR:"\u20a8",JPY:"\u00a5",KPW:"\u20a9",USD:"$"};a.INITIAL_PERIOD_TYPE={REGULAR:1};a.EMPTY_STR="";a.PCT="%";a.US_DECIMAL=".";a.MONTHS="Jan Feb Mar Apr May Jun Jul Aug Sept Oct Nov Dec".split(" ");a.MIN_YEAR=1970;a.MIN_DATE=new Date(a.MIN_YEAR,0,1,0,0,0,0);a.MAX_YEAR=2099;a.MAX_DATE=new Date(a.MAX_YEAR,
11,31,0,0,0,0);a.INITIAL_CASH_FLOWS=500;a.DIY=0;a.PPY=[];a.PPY[6]=12;a.LIPM=2;a.SIPM=2;a.displayExceptionMsg=function(a){alert(a)};a.print_calc=function(){window.print()};a.focusSelect=function(a){a.onfocus=function(){a.select();a.onmouseup=function(){a.onmouseup=null;return!1}}};a.stripCharsInBag=function(a,c){var h,e,n="";for(h=0;h<a.length;h+=1)e=a.charAt(h),-1===c.indexOf(e)&&(n+=e);return n};a.StringBuffer=function(){this.buffer=[]};a.StringBuffer.prototype.append=function(a){this.buffer.push(a);
return this};a.StringBuffer.prototype.toString=function(){return this.buffer.join("")};a.LocalConventions=function(b){b||(b=a.CCY_FORMATS.USD1);this.ccy_format=b;this.sep=a.CCY_CONVENTIONS[b].sep;this.dPnt=a.CCY_CONVENTIONS[b].dPnt;this.ccy=a.CCY_CONVENTIONS[b].ccy;this.ccy_r=a.CCY_CONVENTIONS[b].ccy_r};a.LocalConventions.prototype.numConvention=function(){var b=new a.LocalConventions(this.ccy_format);b.ccy="";b.ccy_r="";return b};a.LocalConventions.prototype.rateConvention=function(){var b=new a.LocalConventions(this.ccy_format);
b.ccy="";b.ccy_r="%";return b};a.LocalDateConventions=function(b){b&&null!==b||(b=a.DATE_FORMATS.MDY);this.date_format=b;this.date_mask=a.DATE_CONVENTIONS[b].date_mask;this.date_sep=a.DATE_CONVENTIONS[b].date_sep;this.sep_pos1=a.DATE_CONVENTIONS[b].sep_pos1;this.sep_pos2=a.DATE_CONVENTIONS[b].sep_pos2};a.dateNow=new Date;a.yearNow=a.dateNow.getFullYear().toString();a.monthNowName=a.MONTHS[a.dateNow.getMonth()];a.monthNow=("0"+(a.dateNow.getMonth()+1)).slice(-2);a.dayNow="01";a.pmt_method=0;a.pmt_frequency=
6;a.cmp_frequency=6;a.ppy=a.PPY[a.pmt_frequency];a.cmpPPY=a.PPY[a.cmp_frequency];a.moneyConventions=new a.LocalConventions;a.rateConventions=a.moneyConventions.rateConvention();a.numConventions=a.moneyConventions.numConvention();a.resetNumConventions=function(b){b!==a.moneyConventions.ccy_format&&(a.moneyConventions=new a.LocalConventions(parseInt(Cookies.get("ccy_format"),10)),a.rateConventions=a.moneyConventions.rateConvention(),a.numConventions=a.moneyConventions.numConvention(),Cookies.set("ccy_format",
parseInt(b,10),{expires:Infinity}))};a.dateConventions=new a.LocalDateConventions;a.sortConventions=new a.LocalDateConventions(a.DATE_FORMATS.YMD);a.resetDateConventions=function(b){b!==a.dateConventions.date_format&&(a.dateConventions=new a.LocalDateConventions(b),Cookies.set("date_format",parseInt(b,10),{expires:Infinity}))};a.evenRound=function(a,c){var h=c||0,e=Math.pow(10,h),n=+(h?a*e:a).toFixed(8),d=Math.floor(n),g=n-d,n=.49999999<g&&.50000001>g?0===d%2?d:d+1:Math.round(n);return h?n/e:n};a.roundMoney=
function(b,c,h){var e=Math.pow(10,c||2);return void 0===b||null===b||"number"!==typeof b?"":void 0!==h&&h?a.evenRound(b,c):Math.round(b*e)/e};a.addSeparators=function(a,c,h,e){var n=a.indexOf(h),d=/(\d+)(\d{3})/,g="",f;for(f=0;f<a.length;f+=1)a.charAt(f)!==c&&(g+=a.charAt(f));if(-1===n&&0<e){for(;1<g.length&&"0"===g.charAt(0)||"-"===g.charAt(0)&&2<g.length&&"0"===g.charAt(1);)g=g.substr(1,g.length-1);for(;d.test(g);)g=g.replace(d,"$1"+c+"$2");return g}if(-1===n&&0===e){for(;d.test(g);)g=g.replace(d,
"$1"+c+"$2");return g}for(a=g.split(h);d.test(a[0]);)a[0]=a[0].replace(d,"$1"+c+"$2");return 0!==e&&a[1].length<=e?a[0]+h+a[1]:0!==e?a[0]+h+a[1].substr(0,e):a[0]};a.getLocalNumStr=function(b,c){if(null===b)return"";var h=b+a.EMPTY_STR;c!==a.US_DECIMAL&&(h=h.replace(/\./,c));return h};a.formatFloat=function(b,c,h,e){b=a.getLocalNumStr(b,h);var d=b.indexOf(h);if(null===b||0===b.length)return a.EMPTY_STR;-1===d&&0!==e&&(b+=h,d=b.length-1);for(;b.length-1-d<e&&0<e;)b+="0";return a.addSeparators(b,c,h,
e)};a.formatLocalFloat=function(b,c,h,e){b=a.getLocalNumStr(b,c.dPnt);var d=b.indexOf(c.dPnt);e=void 0!==e?e:100;if(null===b||0===b.length)return a.EMPTY_STR;if("u"===b.charAt(0)||"U"===b.charAt(0))return a.UNKNOWN_STR;-1===d&&0!==h&&(b+=c.dPnt,d=b.length-1);if(0<h)for(;b.length-1-d<h;)b+="0";b=a.addSeparators(b,c.sep,c.dPnt,h);""!==c.ccy&&b.charAt(0)!==c.ccy&&b.length<e?b=c.ccy+b:""!==c.ccy_r&&b.charAt(b.length-1)!==c.ccy_r&&b.length<e&&(b+=c.ccy_r);return b};a.getUSNumStr=function(b,c,h,e,d){b!==
a.UNKNOWN_STR?(c="."!==c?c:"\\.",b=b.replace(""!==e?new RegExp("\\"+e+"|"+e+"|"+c,"g"):new RegExp("\\"+d+"|"+d+"|"+c,"g"),a.EMPTY_STR),h!==a.US_DECIMAL&&(b=b.replace(h,a.US_DECIMAL)),b.charAt(b.length-1)===a.PCT&&(b=b.slice(0,-1))):b="0";return b};a.getUSNum=function(b,c,h){b=a.getUSNumStr(b,c.sep,c.dPnt,c.ccy,c.ccy_r);return h?parseFloat(b):parseInt(b,10)};var f=function(b,c,h){this.isValid=!1;this.element=document.getElementById(b);null!==this.element&&(this.id=b,this.conventions=c&&null!==c?c:
a.moneyConventions,this.ccy_format=c.ccy_format,this.precision=void 0!==h?h:2,this.sep=c.sep,this.dPnt=c.dPnt,this.ccy=c.ccy,this.ccy_r=c.ccy_r,this.PCT="%",this.customTouchEndHandler=this.customMouseUpHandler=this.customKeyDownHandler=this.customKeyPressHandler=this.customBlurHandler=null,this.UNKNOWN_STR=a.UNKNOWN_STR,this.isTableEditor=!1,this.init(),this.isValid=!0)};a.NE=f;f.prototype.initRateEditor=function(){this.ccy="";this.ccy_r="%"};f.prototype.initNumEditor=function(){this.ccy_r=this.ccy=
""};f.prototype.addEvent=function(a,c,h){var e;"function"===typeof window.addEventListener?(e=function(a){c.call(h,a)},this.element.addEventListener(a,e,!1)):(e=function(a){c.call(h,window.event)},this.element.attachEvent("on"+a,e));return e};f.prototype.init=function(){this.isTableEditor||(this.customBlurHandler=this.addEvent("blur",this.onCustomBlur,this));this.customKeyPressHandler=this.addEvent("keypress",this.onCustomKeyPress,this);this.customKeyDownHandler=this.addEvent("keydown",this.onCustomKeyDown,
this);this.customMouseUpHandler=this.addEvent("mouseup",this.onCustomMouseUp,this);this.customTouchEndHandler=this.addEvent("touchend",this.onCustomMouseUp,this)};f.prototype.removeEvent=function(a,c){"function"===typeof window.addEventListener?this.element.removeEventListener(a,c,!1):this.element.detachEvent("on"+a,c)};f.prototype.destroy=function(){this.removeEvent("mouseup",this.customMouseUpHandler);this.removeEvent("touchend",this.customMouseUpHandler);this.customTouchEndHandler=this.customMouseUpHandler=
null;this.removeEvent("keydown",this.customKeyDownHandler);this.customKeyDownHandler=null;this.removeEvent("keypress",this.customKeyPressHandler);this.customKeyPressHandler=null;this.isTableEditor||(this.removeEvent("blur",this.customBlurHandler),this.customBlurHandler=null);this.element=null};f.prototype.onCustomKeyDown=function(b){return 46===b.keyCode?(b.preventDefault(),alert(a.ERR_MSGS.noDelKey),!1):37===b.keyCode||33===b.keyCode||34===b.keyCode||35===b.keyCode||36===b.keyCode||38===b.keyCode||
40===b.keyCode?(this.isTableEditor||alert(a.ERR_MSGS.noCurKeys),b.preventDefault?b.preventDefault():b.returnValue=!1,!1):188===b.keyCode&&","===this.sep||(110===b.keyCode||190===b.keyCode)&&"."===this.sep||32===b.keyCode&&" "===this.sep?(alert(a.ERR_MSGS.noSeparators),b.preventDefault?b.preventDefault():b.returnValue=!1,!1):!0};f.prototype.onCustomKeyPress=function(a){var c,h,e,d=!1,d="";e=0<=this.element.value.indexOf(this.dPnt);c=null;if(a.which)d=0!==this.element.selectionEnd-this.element.selectionStart,
c=a.which;else if(window.event)c=document.selection.createRange(),d=""!==c.text,c=a.keyCode;else return 37===a.keyCode||33===a.keyCode||34===a.keyCode||35===a.keyCode||36===a.keyCode?(a.preventDefault?a.preventDefault():a.returnValue=!1,!1):!0;h=String.fromCharCode(c);(e=/\d/.test(h)||8===c||h===this.dPnt&&!e&&0<this.precision||45===c&&(0===this.element.value.length||d))&&!d&&8!==c&&this.element.value.length<this.element.maxLength&&85!==c&&117!==c&&(d=this.element.value+h,45===c?this.element.value=
"":1<d.length&&this.element.value!==this.UNKNOWN_STR?this.element.value=d.substr(0,d.length-1):(this.element.value=h,e=!1));e||(a.preventDefault?a.preventDefault():a.returnValue=!1);return e};f.prototype.onCustomBlur=function(b){if(0===this.element.value.length)this.element.value=0;else if(this.element.value===a.UNKNOWN_STR)return;this.element.value=a.formatLocalFloat(a.getUSNum(this.element.value,this.conventions,this.precision),this.conventions,this.precision,this.element.maxLength);return!0};f.prototype.onCustomMouseUp=
function(a){a.preventDefault?(this.element.selectionStart=0,this.element.selectionEnd=this.element.value.length,a.preventDefault()):(this.element.select(),a.returnValue=!1);return!1};f.prototype.setValue=function(b){this.element.value=a.formatLocalFloat(b,this.conventions,this.precision,this.element.maxLength)};f.prototype.getUSNumber=function(){var b=a.getUSNumStr(this.element.value,this.sep,this.dPnt,this.ccy,this.ccy_r);return 0!==this.precision?parseFloat(b):parseInt(b,10)};a.dateMath=function(){var b=
0,c=0,h=0,e={days:null,periods:null,oddDays:null},f=function(a,b){a.getDate();a.setMonth(a.getMonth()+b);return a.getTime()},m=function(b,c,h){var e=!0;if(1>c||12<c||isNaN(c))e=!1;if(b<a.MIN_YEAR||b>a.MAX_YEAR||isNaN(b))e=!1;if((9===c||4===c||6===c||11===c)&&(1>h||30<h))e=!1;else if(2===c){if(1>h||29<h)e=!1}else if(1>h||31<h||isNaN(h))e=!1;return e};return{addPeriods:function(a,b){var c=new Date;c.setTime(a.getTime());c.setHours(0,0,0,0);f(c,b);return c.getTime()},countPeriods:function(g,m){h=c=b=
0;if(g.getTime()>m.getTime())return alert("Error: dates out of sequence."),!1;if(g.getTime()===m.getTime())return e.days=b,e.periods=c,e.oddDays=h,e;var q=new Date,r=new Date,t=new Date,p=0;r.setTime(g.getTime());t.setTime(m.getTime());b=Math.round((t.getTime()-r.getTime())/a.ONE_DAY);do if(c+=1,q.setTime(t.getTime()),t.setTime(f(t,-1)),p+=1,1E4===p)throw d;while(t.getTime()>r.getTime()&&1E4>p);t.getTime()<r.getTime()&&(--c,t.setTime(q.getTime()),h=Math.round((t.getTime()-r.getTime())/a.ONE_DAY));
e.days=b;e.periods=c;e.oddDays=h;return e},isValidDate:m,dateStrToDate:function(b,c){var h,e;h=[];var d=[],f=new Date;c?(e=c.date_format,h=c.date_sep):(e=a.dateConventions.date_format,h=a.dateConventions.date_sep);h=b.split(h);d[0]=parseInt(h[0],10);d[1]=parseInt(h[1],10);d[2]=parseInt(h[2],10);switch(e){case a.DATE_FORMATS.MDY:m(d[2],d[0],d[1])&&(f=new Date(d[2],d[0]-1,d[1],0,0,0,0));break;case a.DATE_FORMATS.DMY:m(d[2],d[1],d[0])&&(f=new Date(d[2],d[1]-1,d[0],0,0,0,0));break;case a.DATE_FORMATS.YMD:m(d[0],
d[1],d[2])&&(f=new Date(d[0],d[1]-1,d[2],0,0,0,0))}return f},dateToDateStr:function(b,c){var h,e,d,f,n,m=b.getFullYear();if(m<a.MIN_YEAR||m>a.MAX_YEAR)throw y;c?(e=c.date_format,h=c.date_sep):(e=a.dateConventions.date_format,h=a.dateConventions.date_sep);n=("0"+(b.getMonth()+1)).slice(-2);f=("0"+b.getDate()).slice(-2);switch(e){case a.DATE_FORMATS.MDY:d=n+h+f+h+m;break;case a.DATE_FORMATS.DMY:d=f+h+n+h+m;break;case a.DATE_FORMATS.YMD:d=m+h+n+h+f}return d},getFirstNextMonth:function(a){return new Date(a.getFullYear(),
a.getMonth()+1)}}}();Cookies.get("ccy_format")||Cookies.get("date_format")?(a.moneyConventions=new a.LocalConventions(parseInt(Cookies.get("ccy_format"),10)),a.dateConventions=new a.LocalDateConventions(parseInt(Cookies.get("date_format"),10)),a.rateConventions=a.moneyConventions.rateConvention(),a.numConventions=a.moneyConventions.numConvention()):Cookies.enabled&&Cookies.set("ccy_format",a.moneyConventions.ccy_format,{expires:Infinity}).set("date_format",a.dateConventions.date_format,{expires:Infinity});
f=function(a){if(void 0===a||0===a)a=100;this.data=[];this.increment=a;this.size=0};a.Vector=f;a.Vector=f;f.prototype.getCapacity=function(){return this.data.length};f.prototype.getSize=function(){return this.size};f.prototype.isEmpty=function(){return 0===this.getSize()};f.prototype.getLastElement=function(){if(null!==this.data[this.getSize()-1])return this.data[this.getSize()-1]};f.prototype.getFirstElement=function(){if(null!==this.data[0])return this.data[0]};f.prototype.getElementAt=function(a){try{return this.data[a]}catch(c){return"Exception "+
c+" occured when accessing "+a}};f.prototype.addElement=function(a){this.data[this.size]=a;this.size+=1};f.prototype.insertElementAt=function(a,c){var h;try{this.size===this.getCapacity()&&this.resize();for(h=this.getSize();h>c;--h)this.data[h]=this.data[h-1];this.data[c]=a;this.size+=1}catch(e){return"Invalid index "+h}};f.prototype.removeElementAt=function(a){var c,h;try{h=this.data[a];for(c=a;c<this.getSize()-1;c+=1)this.data[c]=this.data[c+1];this.data[this.getSize()-1]=null;--this.size;return h}catch(e){return"Invalid index "+
a}};f.prototype.removeAllElements=function(){var a;for(a=this.size=0;a<this.data.length;a+=1)this.data[a]=null};f.prototype.indexOf=function(a){var c;for(c=0;c<this.getSize();c+=1)if(this.data[c]===a)return c;return-1};f.prototype.contains=function(a){var c;for(c=0;c<this.getSize();c+=1)if(this.data[c]===a)return!0;return!1};f.prototype.resize=function(){var a,c=[];for(a=0;a<this.data.length;a+=1)c[a]=this.data[a];this.data=c};f.prototype.trimToSize=function(){var a,c=[];for(a=0;a<this.getSize();a+=
1)c[a]=this.data[a];this.size=c.length;this.data=c};f.prototype.sort=function(a){var c,h,e,d,f;for(c=1;c<this.getSize();c+=1){d=this.data[c];e=d[a];h=c-1;f=this.data[h];for(f=f[a];0<=h&&f>e;)this.data[h+1]=this.data[h],--h,0<=h&&(f=this.data[h],f=f[a]);this.data[h+1]=d}};f.prototype.clone=function(){var b,c=new a.Vector(this.size);for(b=0;b<this.size;b+=1)"function"===typeof this.data[b].clone?c.addElement(this.data[b].clone()):c.addElement(this.data[b]);return c};f.prototype.toString=function(){var a,
c,h={},d="Vector Object properties:\nIncrement: "+this.increment+"\nSize: "+this.size+"\nElements:\n";for(a=0;a<this.getSize();a+=1)for(c in this.data[a])this.data[a].hasOwnProperty(c)&&(h=this.data[a],d+="\tObject."+c+" = "+h[c]+"\n");return d};f.prototype.overwriteElementAt=function(a,c){this.data[c]=a};return a}();/*
 Copyright 2016 Pine Grove Software, LLC
 financial-calculators.com
 pine-grove.com
 eq.MORTGAGE-WIDGET.gpl.js
*/
var EQ$=function(a){function d(h){return b=h.nominalRate/a.PPY[h.cmpFreq]}function y(a,c){var d,f;f=a;0!==b&&(d=Math.pow(1+b,c),f*=d);return f-a}var f=a||{},b,c=[];f.roundingMethod=0;f.AMORT_MTHD_EXT={NORMAL:0};f.AMORT_MTHD_STRS_EXT=["Normal"];f.schedule={schedule1:1};f.summary={cf:[],firstDebitDateStr:"",firstCreditDateStr:"",lastDebitDateStr:[],lastCreditDateStr:[],totalNDebits:[],totalNCredits:[],totalInterest:[],totalPmts:[],nominalRate:[],NYears:0,pointsPct:0,pointsMoney:0,amortMthd:0,DIY:0,
unadjustedBalance:0,roundingMethod:f.roundingMethod,cashFlowType:0,xPmtTotal:0};f.fin_params=function(a){a=a||{};this.nominalRate=void 0!==a.nominalRate?a.nominalRate:null;this.n=a.n||null;this.cf=a.cf||0;this.pv=a.pv||0;this.fv=a.fv||0;this.pmtMthd=void 0!==a.pmtMthd?a.pmtMthd:null;this.amortMthd=void 0!==a.amortMthd?a.amortMthd:f.AMORT_MTHD_EXT.NORMAL;this.oDate=a.oDate||new Date(0);this.fDate=a.fDate||new Date(0);this.lDate=a.lDate||new Date(0)};f.fin_params.prototype.clone=function(){return new f.fin_params({nominalRate:this.nominalRate,
n:this.n,cf:this.cf,pv:this.pv,fv:this.fv,pmtFreq:this.pmtFreq,cmpFreq:this.cmpFreq,daysPerYear:this.daysPerYear,pmtMthd:this.pmtMthd,amortMthd:this.amortMthd,oDate:new Date(this.oDate.valueOf()),fDate:new Date(this.fDate.valueOf()),lDate:new Date(this.lDate.valueOf())})};f.CF={calc:function(a){var c,b;c=d(a);a.pmtMthd===f.pmt_method?(b=c*a.pv,b=-(b/(1-Math.pow(1+c,-a.n)))):(b=(1-Math.pow(1+c,-a.n+1))/c,b=-(a.pv/(b+1)));return b}};f.MORTGAGE_SCHEDULE={calc:function(b){var e=void 0,n,m,g,v,q,r,t,p,
C,z=1,w=0,A=0,u=[],u=new Date(0),x=new Date(0),k=[],F=0;n=0;var B,G,D,E;E=a.roundMoney(b.ins/a.PPY[b.pmtFreq]);D=a.roundMoney(b.propTax/a.PPY[b.pmtFreq]);B=a.roundMoney(b.pv*b.pmi/a.PPY[b.pmtFreq]);G=a.roundMoney(.8*b.price);n=a.roundMoney(b.pv*b.pnts);if(void 0===e||null===e)e=a.schedule.schedule1;0===b.oDate.valueOf()&&b.oDate.setTime(a.dateMath.getFirstNextMonth(new Date));b.pmtMthd===a.pmt_method?b.fDate.setTime(a.dateMath.addPeriods(b.oDate,1)):b.fDate.setTime(b.oDate.getTime());f.summary.nominalRate[e]=
b.nominalRate;f.summary.pmtFreq=b.pmtFreq;f.summary.cmpFreq=b.cmpFreq;f.summary.amortMthd=b.amortMthd;f.summary.propTaxes=D;f.summary.ins=E;f.summary.pnts=b.pnts;f.summary.pntsInMoney=n;d(b);g=0;b.oDate.valueOf()!==b.fDate.valueOf()&&(g=1);C=g;g=0;F=n;m=b.pv;0<m?(v=m,q=null):0>m?(q=m,v=null):q=v=null;u.setTime(b.oDate.getTime());r=a.dateMath.dateToDateStr(u,a.dateConventions);f.summary.firstDebitDateStr=r;t=a.dateMath.dateToDateStr(u,a.sortConventions);k.push([t,e,a.ROW_TYPES.DETAIL,"0:"+z,r,g,v,
q,w,A,null,m,u.getMonth()+1,u.getFullYear(),u,u.valueOf(),0,0,0,F]);p="1:"+z;g=-b.cf;x.setTime(b.fDate.getTime());r=a.dateMath.dateToDateStr(x,a.dateConventions);f.summary.firstCreditDateStr=r;t=a.dateMath.dateToDateStr(x,a.sortConventions);q=b.cf;v=null;w=a.roundMoney(y(m,C));w=a.roundMoney(w);A=a.roundMoney(g-w);m=a.roundMoney(m+w+b.cf);m<=G&&(B=0);F=a.roundMoney(g+D+E+B);k.push([t,e,a.ROW_TYPES.DETAIL,p,r,g,v,q,w,A,null,m,x.getMonth()+1,x.getFullYear(),x,x.valueOf(),D,E,B,F]);n=2;C=1;do u.setTime(x.getTime()),
x.setTime(a.dateMath.addPeriods(x,1,b.pmtFreq)),r=a.dateMath.dateToDateStr(x,a.dateConventions),t=a.dateMath.dateToDateStr(x,a.sortConventions),1===n%a.PPY[b.pmtFreq]&&(z+=1),p=n+":"+z,w=a.roundMoney(y(m,C)),w=a.roundMoney(w),A=a.roundMoney(g-w),m=a.roundMoney(m+w+b.cf),F=a.roundMoney(g+D+E+B),k.push([t,e,a.ROW_TYPES.DETAIL,p,r,g,v,q,w,A,null,m,x.getMonth()+1,x.getFullYear(),x,x.valueOf(),D,E,B,F]),m<=G&&(B=0),n+=1;while(n<=b.n&&0<m);u=k[k.length-1];f.summary.unadjustedBalance=u[11];f.summary.cf[e]=
u[5];u[5]+=f.summary.unadjustedBalance;u[11]-=f.summary.unadjustedBalance;u[9]+=f.summary.unadjustedBalance;f.summary.totalNDebits[e]=n-1;f.summary.totalNCredits[e]=1;f.summary.lastDebitDateStr[e]=k[0][4];f.summary.lastCreditDateStr[e]=u[4];b=e;var H=F=p=t=r=q=v=m=C=g=n=E=D=G=B=x=u=A=w=z=0,l=[];if(void 0===b||null===b)b=a.schedule.schedule1;e=0;do if(e+=1,z=a.roundMoney(k[e-1][5]+z),w=a.roundMoney(k[e-1][6]+w),A=a.roundMoney(k[e-1][7]+A),u=a.roundMoney(k[e-1][8]+u),x=a.roundMoney(k[e-1][9]+x),B=a.roundMoney(k[e-
1][10]+B),G=a.roundMoney(k[e-1][16]+G),D=a.roundMoney(k[e-1][17]+D),E=a.roundMoney(k[e-1][18]+E),n=a.roundMoney(k[e-1][19]+n),g=a.roundMoney(k[e-1][5]+g),C=a.roundMoney(k[e-1][6]+C),m=a.roundMoney(k[e-1][7]+m),v=a.roundMoney(k[e-1][8]+v),q=a.roundMoney(k[e-1][9]+q),r=a.roundMoney(k[e-1][10]+r),t=a.roundMoney(k[e-1][16]+t),p=a.roundMoney(k[e-1][17]+p),F=a.roundMoney(k[e-1][18]+F),H=a.roundMoney(k[e-1][19]+H),k[e-1][13]!==k[e][13]&&(12>=k[e-1][12]||12<k[e][12])||k[e-1][13]===k[e][13]&&12>=k[e-1][12]&&
12<k[e][12])l=[],l[0]=k[e-1][0],l[0]=l[0].substr(0,l[0].length-3)+"-99",l[1]=b,l[2]=a.ROW_TYPES.ANNUAL_TOTALS,l[3]=k[e-1][13]+" YTD:",l[4]=null,l[5]=z,l[6]=w,l[7]=A,l[8]=u,l[10]=B,l[9]=x,l[11]=null,l[13]=k[e-1][13],l[14]=null,l[15]=null,l[16]=G,l[17]=D,l[18]=E,l[19]=n,n=E=D=G=B=x=u=A=w=z=0,k.splice(e,0,l),e+=1,l=[],l[0]=k[e-1][0],l[0]=l[0].substr(0,l[0].length-3)+"-99",l[1]=b,l[2]=a.ROW_TYPES.RUNNING_TOTALS,l[3]="Running Totals:",l[4]=null,l[5]=g,l[6]=C,l[7]=m,l[8]=v,l[10]=r,l[9]=q,l[11]=null,l[13]=
k[e-1][13],l[14]=null,l[15]=null,l[16]=t,l[17]=p,l[18]=F,l[19]=H,k.splice(e,0,l),e+=1;while(e<k.length-1);k[k.length-1][2]!==a.ROW_TYPES.RUNNING_TOTALS&&(z=a.roundMoney(k[k.length-1][5]+z),w=a.roundMoney(k[k.length-1][6]+w),A=a.roundMoney(k[k.length-1][7]+A),u=a.roundMoney(k[k.length-1][8]+u),x=a.roundMoney(k[k.length-1][9]+x),B=a.roundMoney(k[k.length-1][10]+B),G=a.roundMoney(k[k.length-1][16]+G),D=a.roundMoney(k[k.length-1][17]+D),E=a.roundMoney(k[k.length-1][18]+E),n=a.roundMoney(k[k.length-1][19]+
n),g=a.roundMoney(k[k.length-1][5]+g),C=a.roundMoney(k[k.length-1][6]+C),m=a.roundMoney(k[k.length-1][7]+m),v=a.roundMoney(k[k.length-1][8]+v),q=a.roundMoney(k[k.length-1][9]+q),r=a.roundMoney(k[k.length-1][10]+r),t=a.roundMoney(k[k.length-1][16]+t),p=a.roundMoney(k[k.length-1][17]+p),F=a.roundMoney(k[k.length-1][18]+F),H=a.roundMoney(k[k.length-1][19]+H),l=[],l[0]=k[e][0],l[0]=l[0].substr(0,l[0].length-3)+"-99",l[1]=b,l[2]=a.ROW_TYPES.ANNUAL_TOTALS,l[3]=k[k.length-1][13]+" YTD:",l[4]=null,l[5]=z,
l[6]=w,l[7]=A,l[8]=u,l[9]=x,l[10]=B,l[11]=null,l[13]=k[k.length-1][13],l[16]=G,l[17]=D,l[18]=E,l[19]=n,k.push(l),l=[],l[0]=k[e][0],l[0]=l[0].substr(0,l[0].length-3)+"-99",l[1]=b,l[2]=a.ROW_TYPES.RUNNING_TOTALS,l[3]="Running Totals:",l[4]=null,l[5]=g,l[6]=C,l[7]=m,l[8]=v,l[9]=q,l[10]=r,l[11]=null,l[13]=k[k.length-1][13],l[16]=t,l[17]=p,l[18]=F,l[19]=H,k.push(l));f.summary.totalInterest[b]=v;f.summary.totalPmts[b]=g;c=k;return c}};return f}(LIB$);/*
 Copyright 2016 Pine Grove Software, LLC
 financial-calculators.com
*/
var SC$=function(a,d){var y=a||{},f='<style type="text/css" media="screen">',f=f+'html,body{margin:0;padding:0;color:#333;height:100%;width:100%;min-width:320px;font-family:"Source Code Pro",monospace; font-size:8px; font-weight:400; overflow: hidden;} body{overflow-y: scroll} tr {line-height: 1.2} @media (min-width: 569px) {html,body{font-size:12px}} @media (min-width: 768px) {html,body{font-size:14px}} .label {font-family: "Roboto", sans-serif;} .medium {font-weight: 600; font-style: italic} .bold {font-weight: 700} .center {text-align: center} .left {text-align: left} .right {text-align: right} .wrapper {padding:1px; width:100%; height: 100%} table {width: 100%; border-collapse:collapse; margin-bottom: 20px;} #rpt tbody tr.totals, #rpt tbody tr:nth-child(even).totals {background-color: transparent;} #rpt tbody tr:nth-child(even) {background: #FCFFFF;} #rpt tbody tr:hover, #rpt tbody tr:hover.totals {background: #303E64; color: #fff; font-weight:400} #rpt tbody::after {content: ""; display: block; height: 29px;} .cHead {background: #303E64; color: #fff} td {padding: 5px 5px;} .spcr {width: 2%} .hCell {width: 24%} .rpt_title {width: 100%; font-size: 120%} .rpt_footer {width: 100%; font-style: italic; font-size: 90%;}  .btn {display: inline-block; margin-bottom: 0; font-weight: normal; vertical-align: middle; touch-action: manipulation; cursor: pointer; background-image: none; border: 1px solid transparent; white-space: nowrap; padding: 6px 12px; font-size: 100%; line-height: 1.42857143; border-radius: 4px; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; } .btn-primary {color: #fff; background-color: #303e64; border-color: #283353;} .btn-primary:focus, .btn-primary.focus {color: #ffffff; background-color: #1f2942; border-color: #000000; } .btn-primary:hover {color: #ffffff; background-color: #1f2942; border-color: #141a29; } .btn-primary:active, .btn-primary.active, .open > .dropdown-toggle.btn-primary { color: #ffffff; background-color: #1f2942; border-color: #141a29;} .btn-row {padding: 15px 0 5px; width:100%; margin-bottom:20px} td.brder {border-top: 1px solid #303E64} #btnPrint {margin-right:15px} #btnCopy {margin-left:15px} tr.empty {background-color: transparent !important; color:#333 !important;} .i {font-style: italic} .altColor{color:#00c} .rpt6col {width: 19%;} .rpt6colvnarrow {width: 7%;} .rpt6colnarrow {width: 15%;} .rpt6colwide {width: 21%;} .rpt7col {width: 16%;} .rpt7colvnarrow {width: 7%;} .rpt7colnarrow {width: 9%;} .rpt7colwide {width: 20%;} .rpt9col {width: 11%;} .rpt9colvnarrow {width: 6%;} .rpt9colnarrow {width: 11%;} .rpt9colwide {width: 13%;} ',
f=f+"</style>",b=function(b){var c,n,m,g,v,q,r,t,p,C,z,w,A,u,x,k,y,B;m=new a.StringBuffer;g=new a.StringBuffer;c=b.length-1;if(0!==c){p=b[0];C=p[4];t=a.formatLocalFloat(p[11],a.moneyConventions,2);v=a.formatLocalFloat(100*a.summary.nominalRate[a.schedule.schedule1],a.rateConventions,4);n=1;do p=b[n],r=p[4],n+=1;while(null===r&&n<b.length);q=a.formatLocalFloat(p[5],a.moneyConventions,2);n=a.STR_FREQUENCIES[a.summary.pmtFreq];p=b[b.length-1];w=a.formatLocalFloat(p[8],a.moneyConventions,2);A=a.formatLocalFloat(p[5],
a.moneyConventions,2);z=a.summary.lastCreditDateStr[a.schedule.schedule1];p=a.formatLocalFloat(a.summary.totalNDebits[a.schedule.schedule1],a.numConventions,0);y=a.formatLocalFloat(a.summary.propTaxes,a.moneyConventions,2);B=a.formatLocalFloat(a.summary.ins,a.moneyConventions,2);u=a.formatLocalFloat(100*a.summary.pnts,a.rateConventions,4);x=a.formatLocalFloat(a.summary.pntsInMoney,a.moneyConventions,2);k=a.formatLocalFloat(a.summary.unadjustedBalance,a.moneyConventions,2);k=0>a.summary.unadjustedBalance?
"Last payment amount decreased by "+k+" due to rounding":0<a.summary.unadjustedBalance?"Last payment amount increased by "+k+" due to rounding":"";g.append("<table>");g.append("<thead>");g.append('<tr class="label rpt_title center bold i"><td colspan="6">Mortgage Summary</td></tr>');g.append('<tr class="empty"><td colspan="6"></td></tr>');g.append("</thead>");g.append("<tbody>");g.append('<tr><td class="label hCell">Loan Amount:</td><td class="right">'+t+'</td><td class="spcr">&nbsp;</td><td class="spcr">&nbsp;</td><td class="label hCell">Number of Payments:</td><td class="right">'+
p+"</td></tr>");g.append('<tr><td class="label hCell">Annual Interest Rate:</td><td class="right">'+v+'</td><td class="spcr">&nbsp;</td><td class="spcr">&nbsp;</td><td class="label hCell">Periodic Payment:</td><td class="right">'+q+"</td></tr>");g.append('<tr><td class="label hCell">Loan Date:</td><td class="right">'+C+'</td><td class="spcr">&nbsp;</td><td class="spcr">&nbsp;</td><td class="label hCell">1st Payment Due:</td><td class="right">'+r+"</td></tr>");g.append('<tr><td class="label hCell">Periodic Property Taxes:</td><td class="right">'+
y+'</td><td class="spcr">&nbsp;</td><td class="spcr">&nbsp;</td><td class="label hCell">Periodic Insurance:</td><td class="right">'+B+"</td></tr>");0!==a.summary.pnts&&g.append('<tr><td class="label hCell">Points:</td><td class="right">'+u+'</td><td class="spcr">&nbsp;</td><td class="spcr">&nbsp;</td><td class="label hCell">Charges Due to Points:</td><td class="right">'+x+"</td></tr>");g.append('<tr><td class="label hCell">Payment Frequency:</td><td class="right">'+n+'</td><td class="spcr">&nbsp;</td><td class="spcr">&nbsp;</td><td class="label hCell">Last Payment Due:</td><td class="right">'+
z+"</td></tr>");g.append('<tr><td class="label hCell">Total Interest Due:</td><td class="right">'+w+'</td><td class="spcr">&nbsp;</td><td class="spcr">&nbsp;</td><td class="label hCell">Total All Payments:</td><td class="right">'+A+"</td></tr>");g.append("</tbody>");g.append("</table>");g.append('<table id="rpt">');g.append("<thead>");g.append('<tr class="label rpt_title center bold i"><td colspan="9">Mortgage Payment Schedule</td></tr>');g.append('<tr class="empty"><td colspan="9"></td></tr>');g.append('<tr class="label cHead"><td class="rpt9colvnarrow">#/Year</td><td class="rpt9colnarrow center">Date</td><td class="rpt9col right">Total<br>Payment</td><td class="rpt9col right">Escrow<br>Amount</td><td class="rpt9col right">PMI<br>Amount</td><td class="rpt9col right">P&nbsp;&amp;&nbsp;I<br>Amount</td><td class="rpt9colwide right">Interest</td><td class="rpt9colwide right">Principal</td><td class="rpt9colwide right">Balance</td></tr>');
g.append("</thead>");g.append("<tfoot>");g.append('<tr class="label rpt_footer left"><td colspan="4">Calculation method:&nbsp;Normal</td><td colspan="5" class="right" style="vertical-align: text-top">'+k+"</td></tr>");g.append('<tr class="label rpt_footer left"><td colspan="4">financial-calculators.com</td><td colspan="5" class="right" style="vertical-align: text-top">Escrow = property taxes + insurance</td></tr>');g.append("</tfoot>");g.append("<tbody>");for(n=0;n<=c;n+=1)p=b[n],w=0<n?p[3]:"Loan:",
C=p[4],q=a.formatLocalFloat(p[5],a.numConventions,2),v=a.formatLocalFloat(p[8],a.numConventions,2),r=a.formatLocalFloat(p[9],a.numConventions,2),t=a.formatLocalFloat(p[11],a.numConventions,2),z=a.formatLocalFloat(a.roundMoney(p[16]+p[17]),a.numConventions,2),A=a.formatLocalFloat(p[18],a.numConventions,2),u=a.formatLocalFloat(p[19],a.numConventions,2),p[2]===a.ROW_TYPES.DETAIL?g.append("<tr><td>"+w+'</td><td class="center">'+C+'</td><td class="right">'+u+'</td><td class="right">'+z+'</td><td class="right">'+
A+'</td><td class="right">'+q+'</td><td class="right">'+v+'</td><td class="right">'+r+'</td><td class="right">'+t+"</td></tr>"):p[2]===a.ROW_TYPES.ANNUAL_TOTALS?g.append('<tr class="totals medium"><td class="right" colspan="2">'+w+'</td><td class="right brder">'+u+'</td><td class="right brder">'+z+'</td><td class="right brder">'+A+'</td><td class="right brder">'+q+'</td><td class="right brder">'+v+'</td><td class="right brder">'+r+"</td><td></td></tr>"):(g.append('<tr class="totals medium"><td class="right" colspan="2">'+
w+'</td><td class="right">'+u+'</td><td class="right">'+z+'</td><td class="right">'+A+'</td><td class="right">'+q+'</td><td class="right">'+v+'</td><td class="right">'+r+"</td><td></td></tr>"),g.append('<tr class="empty"><td colspan="9"></td></tr>'));g.append("</tbody>");g.append("</table>")}m.append("<!DOCTYPE html>");m.append('<html lang="en"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1">');m.append("<title>Your Personalized Loan Schedule</title>");
m.append(f);m.append('<body><div class="wrapper">');m.append(g.toString());m.append("</div></body></html>");d.featherlight({iframe:"about:blank",beforeOpen:function(){d("body").css({"overflow-y":"hidden"})},afterClose:function(){d("body").css({"overflow-y":"scroll"})}});b=document.getElementById("featherlight-id-fc");b=b.contentWindow.document||b.contentDocument;b.open();b.write(m.toString());b.close()},c={html3:'<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Financial Calculators Charts</title><style type="text/css" media="screen">html,body{margin:0;padding:0;color:#333;height:100%;width:100%;overflow: hidden;} body{overflow-y: scroll} #container{width: 95%; margin: 10px auto;} canvas {margin-bottom:25px;}</style></head><body><div id="container"><canvas id="canvas1"></canvas><canvas id="canvas2"></canvas><canvas id="canvas3"></canvas></div></body></html>',
L:0,annualTotals:null,runningTotals:null,totalsPie:null,years:null,chart0Title:"",chart1Title:"",chart2Title:"",chart3Title:"",bs_primary_blue:"#337ab7",bs_info_blue:"#5bc0de",bs_success_green:"#5cb85c",bs_orange_warning:"#f0ad4e",bs_red_danger:"#d9534f",EVENT_DATE:0,LOAN_NO:1,ROW_TYPE:2,PER_STR:3,DATE_STR:4,CF:5,CREDIT:6,DEBIT:7,INT:8,PRIN:9,NET:10,BAL:11,MONTH:12,YEAR:13,annual_int:[],annual_prin:[],annual_pmt:[],running_int:[],running_prin:[],running_pmt:[],bal:[],d8:[],d9:[],d10:[],d11:[],category:[],
interest:0,interest2:0,prin:0,prin2:0,xpmt:0,rate:0,payments:0,payments2:0,balance:0,strDate:"01/01/1999",strDate2:"01/01/1999",strDate2bi:"01/01/1999",kStr:""===a.moneyConventions.ccy_r?"k":" k",clear:function(){c.L=0;c.annual_int=[];c.annual_prin=[];c.annual_pmt=[];c.running_int=[];c.running_prin=[];c.running_pmt=[];c.bal=[];c.category=[]},initAnnualTotalChart:function(b){var d={labels:c.category,datasets:[{type:"bar",label:"Principal",backgroundColor:"rgba(92,184,92,0.75)",data:c.annual_prin},
{type:"bar",label:"Interest",backgroundColor:"rgba(217,83,79,0.75)",data:c.annual_int},{type:"line",label:"Payment",borderWidth:1,borderColor:"rgba(51,51,51,0.5)",pointBackgroundColor:"rgba(0,0,0,0.75)",data:c.annual_pmt}]};b=b.getElementById("canvas1").getContext("2d");c.annualTotals=new Chart(b,{type:"bar",data:d,options:{title:{display:!0,text:c.chart0Title},tooltips:{mode:"label",callbacks:{label:function(b,c){return a.formatLocalFloat(b.yLabel,a.moneyConventions,0)}}},responsive:!0,scales:{xAxes:[{stacked:!0}],
yAxes:[{stacked:!0,ticks:{callback:function(b,d,e){return a.formatLocalFloat(b/1E3,a.moneyConventions,0)+c.kStr}}}]}}})},initAccumulatedTotalChart:function(b){var d={labels:c.category,datasets:[{type:"bar",yAxisID:"y-axis-0",label:"Principal",backgroundColor:"rgba(92,184,92,0.75)",data:c.running_prin},{type:"bar",yAxisID:"y-axis-0",label:"Interest",backgroundColor:"rgba(217,83,79,0.75)",data:c.running_int},{type:"line",label:"Payment",id:"y-axis-0",borderWidth:1,borderColor:"rgba(51,51,51,0.5)",pointBackgroundColor:"rgba(0,0,0,0.75)",
data:c.running_pmt},{type:"line",yAxisID:"y-axis-1",label:"Balance",borderWidth:1,borderColor:"rgba(151,187,205,0.5)",pointBackgroundColor:"rgba(0,0,0,0.75)",data:c.bal}]};b=b.getElementById("canvas2").getContext("2d");c.runningTotals=new Chart(b,{type:"bar",data:d,options:{title:{display:!0,text:c.chart1Title},tooltips:{mode:"label",callbacks:{label:function(b,c){return a.formatLocalFloat(b.yLabel,a.moneyConventions,0)}}},responsive:!0,scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0,position:"left",
id:"y-axis-0",ticks:{beginAtZero:!0,suggestedMax:c.running_pmt[c.running_pmt.length-1],callback:function(b,d,e){return a.formatLocalFloat(b/1E3,a.moneyConventions,0)+c.kStr}}},{display:!1,stacked:!1,position:"right",id:"y-axis-1",ticks:{beginAtZero:!0,suggestedMax:c.running_pmt[c.running_pmt.length-1],callback:function(b,d,e){return a.formatLocalFloat(b/1E3,a.moneyConventions,0)+c.kStr}}}]}}})},initPIPieChart:function(b){var d={type:"pie",data:{datasets:[{data:[c.prin,c.interest],backgroundColor:["rgba(92,184,92,0.75)",
"rgba(217,83,79,0.75)"]}],labels:["Total Principal","Total Interest"]},options:{tooltips:{mode:"label",callbacks:{label:function(b,d){var e=d.datasets[b.datasetIndex].data[b.index],h=[];h[0]=d.labels[b.index]+": "+a.formatLocalFloat(e,a.moneyConventions,0);h[1]="Pct. of Total Payments: "+a.formatLocalFloat(a.roundMoney(e/c.payments*100,1),a.rateConventions,1);return h}}},responsive:!0,title:{display:!0,text:c.chart2Title}}};b=b.getElementById("canvas3").getContext("2d");c.totalsPie=new Chart(b,d)},
createLoanCharts:function(b){var e,f,m,g,v;Chart.defaults.global.elements.line.tension=0;Chart.defaults.global.elements.line.fill=!1;m=0;e=b.length-1;if(0<b.length){c.years=b[e][13]-b[0][13]+1;for(f=0;f<=e;f+=1)g=b[f],g[2]===a.ROW_TYPES.ANNUAL_TOTALS?(c.annual_pmt.push(Math.round(g[5])),c.annual_int.push(Math.round(g[8])),c.annual_prin.push(Math.round(g[9])),11>=c.years||0===m%3||0===m?c.category.push(g[13]):c.category.push(""),m+=1):g[2]===a.ROW_TYPES.RUNNING_TOTALS?(c.running_pmt.push(Math.round(g[5])),
c.running_int.push(Math.round(g[8])),c.running_prin.push(Math.round(g[9])),c.bal.push(v)):v=Math.round(g[11]);g=b[e];c.interest=g[8];c.prin=g[9];c.payments=g[5];g=b[0];c.strDate=g[4];g=b[e-2];c.strDate2=g[4];c.rate=100*a.summary.nominalRate[a.schedule.schedule1];c.chart0Title="Annual Principal and Interest Totals";c.chart1Title="Accumulated Principal and Interest with Remaining Balance";c.chart2Title="Total Principal and Interest"}d.featherlight({iframe:"about:blank",beforeOpen:function(){d("body").css({"overflow-y":"hidden"})},
beforeClose:function(){c.clear();c.annualTotals.destroy();c.annualTotals=null;c.runningTotals.destroy();c.runningTotals=null;c.totalsPie.destroy();c.totalsPie=null},afterClose:function(){d("body").css({"overflow-y":"scroll"})}});b=document.getElementById("featherlight-id-fc");var q=b.contentWindow.document||b.contentDocument;q.open();q.write(c.html3);q.close();setTimeout(function(){c.initAnnualTotalChart(q)},500);setTimeout(function(){c.initAccumulatedTotalChart(q)},500);setTimeout(function(){c.initPIPieChart(q)},
500)}};y.showMortgageSchedule=function(a){b(a)};y.showLoanCharts=function(a){c.createLoanCharts(a)};return y}(EQ$,jQuery);/*
 Copyright 2016 Pine Grove Software, LLC
 financial-calculators.com
 interface.SHARED.js
*/
var GUI$=function(a,d){var y=d||{};a(document.body).addClass("fc-calculator");a("#fc-modals").appendTo("body");y.show_help=function(){a.featherlight("#hText",{beforeOpen:function(){a("body").css({"overflow-y":"hidden"})},afterClose:function(){a("body").css({"overflow-y":"scroll"})}});a(".featherlight-content").css("overflow-y","auto")};var f=function(b){d.zoomLevel=void 0===b||null===b?1:.5<d.zoomLevel+b&&1.5>d.zoomLevel+b?d.zoomLevel+b:d.zoomLevel;a("#calc-wrap").css({"-webkit-transform":"scale("+
d.zoomLevel+")","-moz-transform":"scale("+d.zoomLevel+")","-ms-transform":"scale("+d.zoomLevel+")","-o-transform":"scale("+d.zoomLevel+")",transform:"scale("+d.zoomLevel+")"})};a("#grow").click(function(){f(.1)});a("#shrink").click(function(){f(-.1)});a("#original").click(function(){f()});y.init_CURRENCYDATE_Dlg=function(){switch(d.moneyConventions.ccy_format){case 0:document.getElementById("ccyUSD").checked=!0;break;case 1:document.getElementById("ccyUSD2").checked=!0;break;case 2:document.getElementById("ccyGBH").checked=
!0;break;case 3:document.getElementById("ccyNone").checked=!0;break;case 4:document.getElementById("ccyEUR1").checked=!0;break;case 5:document.getElementById("ccyEUR2").checked=!0;break;case 6:document.getElementById("ccyEUR3").checked=!0;break;case 7:document.getElementById("ccyEUR4").checked=!0}switch(d.dateConventions.date_format){case 0:document.getElementById("MMDDYY").checked=!0;break;case 1:document.getElementById("DDMMYY").checked=!0;break;case 2:document.getElementById("YYMMDD").checked=
!0}a("#CURRENCYDATE").modal()};a("#CURRENCYDATE_save").click(function(a){a.preventDefault();document.getElementById("ccyUSD").checked?d.resetNumConventions(d.CCY_FORMATS.USD1):document.getElementById("ccyUSD2").checked?d.resetNumConventions(d.CCY_FORMATS.USD2):document.getElementById("ccyGBH").checked?d.resetNumConventions(d.CCY_FORMATS.GBH):document.getElementById("ccyNone").checked?d.resetNumConventions(d.CCY_FORMATS.NON):document.getElementById("ccyEUR1").checked?d.resetNumConventions(d.CCY_FORMATS.EUR1):
document.getElementById("ccyEUR2").checked?d.resetNumConventions(d.CCY_FORMATS.EUR2):document.getElementById("ccyEUR3").checked?d.resetNumConventions(d.CCY_FORMATS.EUR3):document.getElementById("ccyEUR4").checked&&d.resetNumConventions(d.CCY_FORMATS.EUR4);document.getElementById("MMDDYY").checked?d.resetDateConventions(d.DATE_FORMATS.MDY):document.getElementById("DDMMYY").checked?d.resetDateConventions(d.DATE_FORMATS.DMY):document.getElementById("YYMMDD").checked&&d.resetDateConventions(d.DATE_FORMATS.YMD);
window.location.reload(!1)});a(function(){a('[data-toggle="tooltip"]').tooltip()});a("input").focus(function(){if("checkbox"===this.type||"radio"===this.type)return!1;this.setSelectionRange(0,999);return!1}).mouseup(function(){return!1});document.getElementById("pop-up-help")&&a("#pop-up-help").addClass("pop-up");return y}(jQuery,LIB$);/*
 Copyright 2016 Pine Grove Software, LLC
 financial-calculators.com
 pine-grove.com
 interface.MORTGAGE-WIDGET.v2.gpl.js
*/
(function(a,d){function y(){var a,f,g;g=0;b=new d.fin_params;a=c.getUSNumber();f=h.getUSNumber()/100;b.pv=e.getUSNumber();if(0!==a&&0!==f&&0!==b.pv&&.01<Math.abs(b.pv-(a-a*f)))return alert('One of the following: "Price", "Down Payment Percent" or "Loan Amount" must be "0".\n\nYou may use our general purpose loan calculator if you don\'t want to consider purchase price.'),!1;0===a&&(g+=1);0===f&&(g+=1);0===b.pv&&(g+=1);if(1<g)return alert('Only one of the following: "Price", "Down Payment Percent" or "Loan Amount" can be "0".\n\nYou may use our general purpose loan calculator if you don\'t want to consider purchase price.'),
!1;0===b.pv&&(b.pv=d.roundMoney(a-a*f),e.setValue(b.pv));0===f&&(f=1-b.pv/a,h.setValue(Math.round(100*f)));0===a&&(a=d.roundMoney(b.pv/(1-f)),c.setValue(a));p=a-b.pv;b.n=n.getUSNumber();b.nominalRate=m.getUSNumber()/100;b.cf=0;b.pmtFreq=d.pmt_frequency;b.cmpFreq=d.pmt_frequency;g=document.getElementById("selPmtMthd");b.pmtMthd=parseInt(g.value,10);b.amortMthd=0;b.pnts=v.getUSNumber()/100;b.propTax=q.getUSNumber();b.ins=r.getUSNumber();b.pmi=t.getUSNumber()/100;b.price=a;0<b.pmi&&.2<=f&&alert("Normally private mortgage insurance is not required if the down payment equals or exceeds 20% of the purchase price.");
return!0}function f(){var a=0;0===b.pv&&(a+=1);0===b.n&&(a+=1);0===b.nominalRate&&(a+=1);if(0<a)return alert('Please enter non-zero values for "Number of Payments" and "Annual Interest Rate".'),null;0===b.cf&&(b.cf=d.roundMoney(d.CF.calc(b)),Infinity!==b.cf?g.setValue(-b.cf):b.cf=0);0!==b.cf&&(document.getElementById("edDownPmt").value=d.formatLocalFloat(p,d.moneyConventions,2),document.getElementById("edInterest").value=d.formatLocalFloat(b.n*Math.abs(b.cf)-b.pv,d.moneyConventions,2),document.getElementById("edTotalPI").value=
d.formatLocalFloat(b.n*Math.abs(b.cf),d.moneyConventions,2))}if(document.getElementById("mortgage")){var b={},c,h,e,n,m,g,v,q,r,t,p;a(document).ready(function(){c=new d.NE("edPrice",d.moneyConventions,2);h=new d.NE("edDwnPmtPct",d.rateConventions,0);e=new d.NE("edPV",d.moneyConventions,2);n=new d.NE("edNumPmts",d.numConventions,0);m=new d.NE("edRate",d.rateConventions,4);g=new d.NE("edPmt",d.moneyConventions,2);v=new d.NE("edPoints",d.rateConventions,4);q=new d.NE("edPropTaxes",d.moneyConventions,
2);r=new d.NE("edIns",d.moneyConventions,2);t=new d.NE("edPMI",d.rateConventions,4);c.setValue(c.getUSNumber());h.setValue(h.getUSNumber());e.setValue(e.getUSNumber());n.setValue(n.getUSNumber());m.setValue(m.getUSNumber());g.setValue(g.getUSNumber());v.setValue(v.getUSNumber());q.setValue(q.getUSNumber());r.setValue(r.getUSNumber());t.setValue(t.getUSNumber());document.getElementById("edPmt").value=d.formatLocalFloat(0,d.moneyConventions,2);document.getElementById("edDownPmt").value=d.formatLocalFloat(0,
d.moneyConventions,2);document.getElementById("edInterest").value=d.formatLocalFloat(0,d.moneyConventions,2);document.getElementById("edTotalPI").value=d.formatLocalFloat(0,d.moneyConventions,2);a("#btnCalc").click(function(a){y()&&f()});a("#btnClear").click(function(a){c.setValue(0);h.setValue(0);e.setValue(0);n.setValue(0);m.setValue(0);g.setValue(0);v.setValue(0);q.setValue(0);r.setValue(0);t.setValue(0);document.getElementById("edPmt").value=d.formatLocalFloat(0,d.moneyConventions,2);document.getElementById("edDownPmt").value=
d.formatLocalFloat(0,d.moneyConventions,2);document.getElementById("edInterest").value=d.formatLocalFloat(0,d.moneyConventions,2);document.getElementById("edTotalPI").value=d.formatLocalFloat(0,d.moneyConventions,2)});a("#btnPrint").click(function(a){y();f();d.print_calc()});a("#btnHelp").click(function(a){d.show_help()});a("#btnSchedule").click(function(a){d.summary.cashFlowType=0;y();a=f();d.showMortgageSchedule(d.MORTGAGE_SCHEDULE.calc(b,a))});a("#btnCharts").click(function(a){d.summary.cashFlowType=
0;y();a=f();d.showLoanCharts(d.MORTGAGE_SCHEDULE.calc(b,a))});a("#CCY").click(function(a){GUI$.init_CURRENCYDATE_Dlg()})})}})(jQuery,GUI$);
